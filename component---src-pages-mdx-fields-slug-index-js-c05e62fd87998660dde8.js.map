{"version":3,"file":"component---src-pages-mdx-fields-slug-index-js-c05e62fd87998660dde8.js","mappings":"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","sources":["webpack://violentmonkey.github.io/./node_modules/gatsby-plugin-mdx/index.js","webpack://violentmonkey.github.io/./node_modules/gatsby-plugin-mdx/mdx-renderer.js","webpack://violentmonkey.github.io/./src/components/toc/index.js","webpack://violentmonkey.github.io/./src/pages/{mdx.fields__slug}/index.js","webpack://violentmonkey.github.io/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://violentmonkey.github.io/./node_modules/@babel/runtime/helpers/objectSpread2.js"],"sourcesContent":["/**\n * Welcome to gatsby-plugin-mdx!\n *\n * Start reading in gatsby-node.js\n */\n\nconst MDXRenderer = require(`./mdx-renderer`)\n\nmodule.exports = {\n  MDXRenderer: MDXRenderer,\n}\n","const React = require(`react`)\nconst { mdx } = require(`@mdx-js/react`)\nconst { useMDXScope } = require(`./context`)\n\nmodule.exports = function MDXRenderer({\n  scope,\n  children,\n  ...props\n}) {\n  const mdxScope = useMDXScope(scope)\n\n  // Memoize the compiled component\n  const End = React.useMemo(() => {\n    if (!children) {\n      return null\n    }\n\n    const fullScope = {\n      // React is here just in case the user doesn't pass them in\n      // in a manual usage of the renderer\n      React,\n      mdx,\n      ...mdxScope,\n    }\n\n    const keys = Object.keys(fullScope)\n    const values = keys.map(key => fullScope[key])\n    const fn = new Function(`_fn`, ...keys, `${children}`)\n\n    return fn({}, ...values)\n  }, [children, scope])\n\n  return React.createElement(End, {...props })\n}\n","import React, { useRef, useEffect } from 'react';\nimport onScroll from '#/common/scroller';\n\nfunction TOCList({ items }) {\n  return (\n    <ul>\n      {items.map((item, i) => {\n        const j = item.url.indexOf('#');\n        const url = j < 0 ? '#' : item.url.slice(j);\n        return (\n          <li key={i}>\n            <a href={url}>{item.title}</a>\n            {item.items && <TOCList items={item.items} />}\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n\nexport default function TOC(props) {\n  const { className, data } = props;\n  const ref = useRef();\n  const refActive = useRef();\n  useEffect(() => {\n    if (!data) return;\n    const list = Array.from(ref.current.querySelectorAll('a'));\n    list.forEach(a => {\n      a.dataset.id = decodeURIComponent(a.href.split('#')[1] || '');\n    });\n    const listener = () => {\n      const { articleRef } = props;\n      if (!articleRef.current || !ref.current) return;\n      const { scrollTop } = document.body;\n      const headings = list.map(a => {\n        const { id } = a.dataset;\n        const el = articleRef.current.querySelector(`#${id}`);\n        return el && {\n          id,\n          a,\n          offset: el.getBoundingClientRect().top - scrollTop - 70,\n        };\n      }).filter(Boolean);\n      const { a } = headings.find((_, i) => {\n        const next = headings[i + 1];\n        return next && next.offset > 0;\n      }) || {};\n      if (refActive.current) refActive.current.className = '';\n      if (a) a.className = 'active';\n      refActive.current = a;\n    };\n    return onScroll(listener);\n  });\n\n  return (\n    <section className={`toc ${className || ''}`} ref={ref}>\n      {data && (\n        <>\n          <h2>Table of Contents</h2>\n          <TOCList items={data.items} />\n        </>\n      )}\n    </section>\n  );\n}\n","import React, { useRef, useEffect } from 'react';\nimport { graphql } from 'gatsby';\nimport { MDXRenderer } from 'gatsby-plugin-mdx';\nimport TOC from '#/components/toc';\nimport { SidebarContainer, withProvider } from '#/common/sidebar';\nimport Layout from '#/components/layout';\n\nexport default withProvider(function PostPage({ location, data }) {\n  const {\n    mdx: post,\n  } = data;\n  const articleRef = useRef();\n  const { setData } = SidebarContainer.useContainer();\n  useEffect(() => {\n    setData(post.frontmatter.sidebar);\n    return () => {\n      setData(null);\n    };\n  }, [post.frontmatter.sidebar, setData]);\n  const { pathname } = location;\n  const isHome = pathname === '/';\n  return (\n    <Layout location={location}>\n      <main className=\"flex-1 has-toc\">\n        {!isHome && (\n          <section className=\"mb-10 pt-1\">\n            <h1>{post.frontmatter.title}</h1>\n          </section>\n        )}\n        <section className=\"items-start with-toc\">\n          {!isHome && (\n            <TOC data={post.tableOfContents} articleRef={articleRef} />\n          )}\n          <article className=\"flex-1 min-w-0 mr-4\" ref={articleRef}>\n            <MDXRenderer>\n              {post.body}\n            </MDXRenderer>\n          </article>\n        </section>\n        <section>\n          <hr />\n          {post.fields.slug.startsWith('posts/') && (\n            <div className=\"mb-6\">\n              <em>Published at {post.frontmatter.date}</em>\n            </div>\n          )}\n        </section>\n      </main>\n    </Layout>\n  );\n});\n\nexport const query = graphql`\n  query ($id: String) {\n    mdx(id: {eq: $id}) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        date(formatString: \"MMMM D, YYYY\")\n        sidebar {\n          match\n          order\n        }\n      }\n      body\n      tableOfContents(maxDepth: 3)\n    }\n  }\n`;\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var defineProperty = require(\"./defineProperty.js\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["MDXRenderer","require","module","exports","React","mdx","useMDXScope","scope","children","_ref","props","mdxScope","End","useMemo","fullScope","keys","Object","values","map","key","Function","fn","createElement","TOCList","items","item","i","j","url","indexOf","slice","href","title","TOC","className","data","ref","useRef","refActive","useEffect","list","Array","from","current","querySelectorAll","forEach","a","dataset","id","decodeURIComponent","split","onScroll","articleRef","scrollTop","document","body","headings","el","querySelector","offset","getBoundingClientRect","top","filter","Boolean","find","_","next","withProvider","location","post","setData","SidebarContainer","frontmatter","sidebar","pathname","isHome","tableOfContents","fields","slug","startsWith","date","obj","value","defineProperty","enumerable","configurable","writable","__esModule","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","push","apply","target","arguments","length","source","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}